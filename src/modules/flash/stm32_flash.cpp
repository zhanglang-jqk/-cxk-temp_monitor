/***********************************************************************
 * @file 	:	stm32_flash.cpp
 * @author	:	ch
 * @brief	:
 * @version:	v1.0
 * @Copyright (C)  2021-02-17  .cdWFVCEL. all right reserved
***********************************************************************/

/* 包含头文件 -------------------------------------------------------------------*/
#include "stm32_flash.h"
/* 宏定义 -----------------------------------------------------------------------*/
/* 类型定义 ---------------------------------------------------------------------*/
/* 私有变量 ---------------------------------------------------------------------*/
/* 扩展变量 ---------------------------------------------------------------------*/
/* 私有函数声明 -----------------------------------------------------------------*/
/* 函数声明 ---------------------------------------------------------------------*/
/* 函数实现 ---------------------------------------------------------------------*/

//stm32_flash.cpp
void STM32Flash::begin(uint32_t startAddr)
{
    FLASH_Init();
    _startAddr = startAddr;
}

void STM32Flash::writeBuffer(uint8_t *pbuf, uint16_t len, uint32_t addr)
{
    FLASH_WriteBuffer(addr, pbuf, len);
}

void STM32Flash::readBuffer(uint8_t *pbuf, uint16_t len, uint32_t addr)
{
    FLASH_ReadBuffer(addr, pbuf, len);
}