/***********************************************************************
 * @file 	:	main.cpp
 * @author	:	ch
 * @brief	:
 * @version:	v1.0
 * @Copyright (C)  2021-02-13  .cdWFVCEL. all right reserved
***********************************************************************/

/* 包含头文件 -------------------------------------------------------------------*/
#include "ch/bsp.h"
#include "modules/low_power/STM32LowPower.h"
#include "modules/max31865/max31865.h"
/* 宏定义 -----------------------------------------------------------------------*/
/* 类型定义 ---------------------------------------------------------------------*/
/* 私有变量 ---------------------------------------------------------------------*/
Max31865 rtd1, rtd2;

/* 扩展变量 ---------------------------------------------------------------------*/
/* 私有函数声明 -----------------------------------------------------------------*/
/* 函数声明 ---------------------------------------------------------------------*/
/* 函数实现 ---------------------------------------------------------------------*/
void setup()
{
    // MX_GPIO_Init();
    LowPower.begin();
    Serial.begin(115200);
    Serial.println("start...");

    rtd1.begin(PA4, PA5, PA6, PA7);
    rtd2.begin(PB12, PB13, PB14, PB15);
}
void loop()
{
    float t1 = rtd1.getTemperature();
    float t2 = rtd2.getTemperature();
    Serial.printf("t1=%d,t2=%d\r\n", (int)t1, (int)t2);
    Serial.flush();
    delay(500);
    // LowPower.shutdown(1000);
}
//main.cpp